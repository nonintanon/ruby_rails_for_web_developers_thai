<h1><%= @hotel.new_record? ? "New Hotel" : "Edit Hotel" %></h1>
<div>
  <%= form_for @hotel, html: { class: 'form-horizontal' } do |f| %>
  <%#= render 'shared/error_messages', target: @hotel %>
  <div class='control-group'>
    <%= f.label :name, class: 'control-label' %>
    <div class='controls'>
      <%= f.text_field :name, class: 'input-xxlarge', size: '10x10' %>
    </div>
  </div>
  <div class='control-group'>
    <%= f.label :location_code, class: 'control-label' %>
    <div class='controls'>
      <%= f.text_field :location_code, class: 'input-xxlarge' %>
    </div>
  </div>
  <% if @hotel.new_record? == false %>
  <div class='control-group'>
    <div class='controls'>
      <table>
        <thead>
          <tr>
            <th>Bed Type</th>
            <th>Total Rooms</th>
            <th>Available Rooms</th>
            <th>Normal Rate</th>
            <th>Current Rate</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% @hotel.rooms.each do |room| %>
          <tr>
            <td><%= room.bed_type %></td>
            <td><%= room.total_rooms %></td>
            <td><%= room.available_rooms %></td>
            <td><%= room.normal_rate %></td>
            <td><%= room.current_rate %></td>
            <td>
              <%= link_to "Edit", edit_hotel_room_path(@hotel, room), class: 'btn btn-small' %>
              <%= link_to "Remove", hotel_room_path(@hotel, room), class: 'btn btn-danger btn-small', method: :delete %>
            </td>
          </tr>      
          <% end %>
        </tbody>
        <tfoot>
          <tr>
            <td colspan='6'><%= link_to "Add new room", new_hotel_room_path(@hotel.id), class: 'btn btn-small' %></td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
  <% end %>
  <div class='form-actions'>
    <%= f.submit @hotel.new_record? ? "Create Hotel" : "Update Hotel", class: 'btn btn-success' %>
  </div>
  <% end %>
</div>